## 重构

### 数据重新设计
1. 减少胶水代码，重新设计模块数据通信。
胶水代码是模块通信代码。其业务逻辑应该移动到业务模块内部，减少模块通信代码，使模块通信整洁。
2. 减少模块属性与输出
多模块共享数据时，保证数据及时通信，也就是数据只在同一模块存储。如果其他模块有私有属性，应该减少私有属性的设计。

### 函数式
1. 使用compose,concat,switch,chain等函数对函数操作
2. 使用middleware对函数操作
3. 使用标准数组操作库
4. 使用高阶函数，抽取守护函数,改成包装函数

### 性能优化
1. immutable
对于数组和对象作为属性，最直接的优化方法就是immutable对象
2. 使用插件优化shouldComponentUpdate函数
```
react-immutable-render-mixin
react-addons-pure-render-mixin
```
3. key合理使用
合理使用key，不要出现index作为key的情况，会导致频繁render。使用react-addons-create-frament插件建立非循环key
4. 使用纯函数渲染组件
5. 使用设计模式：惰性实例化，单例模式，函数节流
6. 减少Lambda表达式声明函数

## React重构
1. Children使用
外层组件直接提供组件树，而不是提供配置。内部拿到children，使用React.cloneElement进行组件重新绘制。参数加工与children.props.children子组件传入。
2. HOC的使用
使用Decorator，或者使用compose包装组件，抽取组件数据到父组件。使用componentWillReceiveProps设置父父（爷）组件数据变化设置当前组件属性。父组件事件触发父组件数据变化传递给子组件，同时触发父父组件事件。
3. 注意细节处理
事件绑定放到constructor。React.Children.map代替map。使用context通信。使用ref进行dom节点操作
4. 动画与样式
使用css-module与react-montion

### 代码整洁
1. 去逻辑化
    1. 采用map,tree,table代替多重判断
    2. 采用parser来代替if判断
    3. 使用设计模式去逻辑判断
2. 工整化
    1. 回调函数抽取单独函数
    2. 工具函数单独抽出文件
    3. 代理模式与高阶函数的使用
    4. 发布订阅，自定义事件，分发事件，分配事件
    5. 代码入口处保持代码整洁与可读性
3. 严谨性：
    1. 变量与属性，参数要有默认值与初始化判断
    2. 所有多级属性获取加上默认值与异常处理

### 代码设计
1. 不要做无用的设计，每个设计之前都要考虑到是否有人使用
2. 让代码在入口处，十几行就应该让人看清楚目的，把复杂的实现隐藏起来
3. 不要做不必要的函数整合，拆分函数，而不是聚合函数
4. 在大小/性能/质量中间做出合理权衡
5. 让代码的扩展性、可维护性良好
6. 数据与展示分离，数据获取单独抽取函数，函数展示单独完成，组件单独抽取，便于替换
7. 注意命名规范，比如set与by。

### 功能
1. 报错路径定位到具体模块或组件
2. 有改动的属性，增加特殊标示